<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>CryptoTrade - Portfolio</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div class="navbar">
    <h1>CryptoTrade</h1>
    <div class="nav-links">
        <a th:href="@{/}">Home</a>
        <a th:href="@{/market}">Market</a>
        <a th:href="@{/trade}">Trade</a>
        <a th:href="@{/portfolio}">Portfolio</a>
    </div>
</div>

<div class="container">
    <h2>Your Portfolio</h2>
    <div id="portfolio-cards"></div>
</div>

<footer>
    <p>Â© 2025 CryptoTrade</p>
</footer>

<script>
    async function loadPortfolio() {
        const response = await fetch('/api/trades/1');
        const trades = await response.json();
        const container = document.getElementById('portfolio-cards');
        container.innerHTML = '';

        trades.forEach(trade => {
            const card = `
                <div class="card">
                    <h3>${trade.cryptoName} (${trade.tradeType})</h3>
                    <p>Quantity: ${trade.quantity}</p>
                    <p>Price: $${trade.price}</p>
                    <p>Date: ${trade.tradeDate}</p>
                </div>`;
            container.innerHTML += card;
        });
    }

    loadPortfolio();
</script>
</body>
</html>
